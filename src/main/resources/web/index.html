<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>DynaShop Market Dashboard</title>
    <link rel="stylesheet" href="assets/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">

    <!-- Utilisation de CDN pour éviter les problèmes de compatibilité -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@3.9.1/dist/chart.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-chart-financial@0.1.1/dist/chartjs-chart-financial.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/luxon@3.0.1/build/global/luxon.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-luxon@1.3.0/dist/chartjs-adapter-luxon.min.js"></script>
</head>
<body>
    <div class="container">
        <header>
            <h1>DynaShop Market Dashboard</h1>
            <div class="select-group">
                <!-- <label for="refresh-interval">Actualisation:</label> -->
                <select id="refresh-interval">
                    <option value="disabled">Désactivée</option>
                    <!-- <option value="1">1 minute</option> -->
                    <option value="5">5 minutes</option>
                    <option value="15">15 minutes</option>
                    <option value="30">30 minutes</option>
                    <option value="60">60 minutes</option>
                </select>
            </div>
            <div class="server-info">
                <span id="server-name">Satyria</span>
                <span id="current-time"></span>
            </div>
            <div class="theme-toggle">
                <button id="theme-switch">
                    <i class="fas fa-moon"></i>
                    <span>Mode sombre</span>
                </button>
            </div>
        </header>

        <div class="selectors">
            <div class="select-group">
                <label for="shop-select">Boutique:</label>
                <select id="shop-select">
                    <option value="">Choisir une boutique</option>
                </select>
            </div>

            <div class="select-group">
                <label for="item-select">Item:</label>
                <select id="item-select" disabled>
                    <option value="">Choisir un item</option>
                </select>
            </div>

            <div class="select-group">
                <label for="period-select">Période:</label>
                <select id="period-select">
                    <option value="1h">1 heure</option>
                    <option value="6h">6 heures</option>
                    <option value="12h">12 heures</option>
                    <option value="1d" selected>1 jour</option>
                    <option value="1w">1 semaine</option>
                    <option value="1m">1 mois</option>
                </select>
            </div>
        </div>

        <div class="charts-container">
            <div class="chart-wrapper" id="price-chart-wrapper">
                <h2>Évolution des prix</h2>
                <canvas id="price-chart"></canvas>
            </div>

            <div class="chart-wrapper" id="volume-chart-wrapper">
                <h2>Volume des transactions</h2>
                <canvas id="volume-chart"></canvas>
            </div>
        </div>

        <div class="stats-container">
            <div class="stat-box">
                <h3>Prix actuel</h3>
                <div class="stat-value" id="current-price">--</div>
            </div>

            <div class="stat-box">
                <h3>Variation</h3>
                <div class="stat-value" id="price-change">--</div>
            </div>

            <div class="stat-box">
                <h3>Volume</h3>
                <div class="stat-value" id="volume-24h">--</div>
            </div>

            <div class="stat-box">
                <h3>Dernière transaction</h3>
                <div class="stat-value" id="last-transaction">--</div>
            </div>
            
            <div class="stat-box">
                <h3>Type de DynaShop</h3>
                <div class="stat-value" id="shop-type">--</div>
            </div>

            <div class="stat-box" id="stock-container" style="display: none;">
                <h3>Stock</h3>
                <div class="stat-value" id="stock-info">--/--</div>
            </div>
        </div>
        
        <footer>
            <p>DynaShop Market Dashboard - Plugin par Tylwen</p>
        </footer>
    </div>

    <script src="assets/script.js"></script>
</body>
</html>